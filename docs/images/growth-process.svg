<!-- docs/images/growth-process.svg -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
    <!-- Background -->
    <rect width="800" height="600" fill="#f8f9fa"/>
    
    <!-- Title -->
    <text x="400" y="30" text-anchor="middle" font-size="20" font-weight="bold">HNSW Growth: Small World Properties</text>
    
    <!-- Stage Labels -->
    <text x="150" y="70" text-anchor="middle" font-size="16">Initial Network</text>
    <text x="400" y="70" text-anchor="middle" font-size="16">After Growth</text>
    <text x="650" y="70" text-anchor="middle" font-size="16">After Pruning</text>
    
    <!-- Initial Network -->
    <g transform="translate(50,100)">
        <!-- Base layer nodes -->
        <circle cx="100" cy="200" r="12" fill="#1f77b4"/>
        <circle cx="150" cy="150" r="12" fill="#1f77b4"/>
        <circle cx="200" cy="200" r="12" fill="#1f77b4"/>
        <!-- Connections -->
        <line x1="100" y1="200" x2="150" y2="150" stroke="#999" stroke-width="2"/>
        <line x1="150" y1="150" x2="200" y2="200" stroke="#999" stroke-width="2"/>
        <line x1="100" y1="200" x2="200" y2="200" stroke="#999" stroke-width="2"/>
    </g>
    
    <!-- Growth Phase -->
    <g transform="translate(300,100)">
        <!-- Base layer nodes -->
        <circle cx="100" cy="200" r="12" fill="#1f77b4"/>
        <circle cx="150" cy="150" r="12" fill="#1f77b4"/>
        <circle cx="200" cy="200" r="12" fill="#1f77b4"/>
        <!-- New nodes -->
        <circle cx="125" cy="250" r="12" fill="#2ca02c">
            <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
        </circle>
        <circle cx="175" cy="250" r="12" fill="#2ca02c">
            <animate attributeName="opacity" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
        </circle>
        <!-- All possible connections -->
        <line x1="100" y1="200" x2="150" y2="150" stroke="#999" stroke-width="2"/>
        <line x1="150" y1="150" x2="200" y2="200" stroke="#999" stroke-width="2"/>
        <line x1="100" y1="200" x2="200" y2="200" stroke="#999" stroke-width="2"/>
        <!-- New connections (temporary) -->
        <line x1="125" y1="250" x2="100" y2="200" stroke="#ccc" stroke-width="1" stroke-dasharray="4,4"/>
        <line x1="125" y1="250" x2="150" y2="150" stroke="#ccc" stroke-width="1" stroke-dasharray="4,4"/>
        <line x1="125" y1="250" x2="200" y2="200" stroke="#ccc" stroke-width="1" stroke-dasharray="4,4"/>
        <line x1="175" y1="250" x2="100" y2="200" stroke="#ccc" stroke-width="1" stroke-dasharray="4,4"/>
        <line x1="175" y1="250" x2="150" y2="150" stroke="#ccc" stroke-width="1" stroke-dasharray="4,4"/>
        <line x1="175" y1="250" x2="200" y2="200" stroke="#ccc" stroke-width="1" stroke-dasharray="4,4"/>
    </g>
    
    <!-- After Pruning -->
    <g transform="translate(550,100)">
        <!-- Base layer nodes -->
        <circle cx="100" cy="200" r="12" fill="#1f77b4"/>
        <circle cx="150" cy="150" r="12" fill="#1f77b4"/>
        <circle cx="200" cy="200" r="12" fill="#1f77b4"/>
        <!-- New nodes -->
        <circle cx="125" cy="250" r="12" fill="#2ca02c"/>
        <circle cx="175" cy="250" r="12" fill="#2ca02c"/>
        <!-- Optimized connections -->
        <line x1="100" y1="200" x2="150" y2="150" stroke="#999" stroke-width="2"/>
        <line x1="150" y1="150" x2="200" y2="200" stroke="#999" stroke-width="2"/>
        <line x1="100" y1="200" x2="200" y2="200" stroke="#999" stroke-width="2"/>
        <!-- New optimized connections -->
        <line x1="125" y1="250" x2="100" y2="200" stroke="#2ca02c" stroke-width="2"/>
        <line x1="125" y1="250" x2="175" y2="250" stroke="#2ca02c" stroke-width="2"/>
        <line x1="175" y1="250" x2="200" y2="200" stroke="#2ca02c" stroke-width="2"/>
    </g>
    
    <!-- Legend -->
    <g transform="translate(50,500)">
        <circle cx="20" cy="0" r="8" fill="#1f77b4"/>
        <text x="40" y="5" font-size="12">Existing Nodes</text>
        <circle cx="20" cy="25" r="8" fill="#2ca02c"/>
        <text x="40" y="30" font-size="12">New Nodes</text>
        <line x1="20" y1="50" x2="40" y2="50" stroke="#999" stroke-width="2"/>
        <text x="60" y="55" font-size="12">Existing Connections</text>
        <line x1="20" y1="75" x2="40" y2="75" stroke="#2ca02c" stroke-width="2"/>
        <text x="60" y="80" font-size="12">New Optimized Connections</text>
    </g>
    
    <!-- Key Points -->
    <g transform="translate(300,500)">
        <text x="0" y="0" font-size="12" font-weight="bold">Key Properties Maintained:</text>
        <text x="0" y="20" font-size="12">1. Balance between short and long-range connections</text>
        <text x="0" y="40" font-size="12">2. Limited number of connections per node (M/Mmax)</text>
        <text x="0" y="60" font-size="12">3. Hierarchical structure for efficient navigation</text>
    </g>
</svg>