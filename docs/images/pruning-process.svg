<!-- docs/images/pruning-process.svg -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
    <!-- Background -->
    <rect width="800" height="600" fill="#f8f9fa"/>
    
    <!-- Title -->
    <text x="400" y="30" text-anchor="middle" font-size="20" font-weight="bold">HNSW Pruning Process</text>
    
    <!-- Before Pruning (Left Side) -->
    <g transform="translate(50,80)">
        <text x="150" y="0" text-anchor="middle" font-size="16">Before Pruning (M=4)</text>
        
        <!-- Central node -->
        <circle cx="150" cy="150" r="20" fill="#ff7f0e"/>
        <text x="150" y="155" text-anchor="middle" font-size="12">A</text>
        
        <!-- Connected nodes -->
        <circle cx="50" cy="100" r="15" fill="#1f77b4"/>
        <text x="50" y="105" text-anchor="middle" font-size="12">B</text>
        
        <circle cx="250" cy="100" r="15" fill="#1f77b4"/>
        <text x="250" y="105" text-anchor="middle" font-size="12">C</text>
        
        <circle cx="50" cy="200" r="15" fill="#1f77b4"/>
        <text x="50" y="205" text-anchor="middle" font-size="12">D</text>
        
        <circle cx="250" cy="200" r="15" fill="#1f77b4"/>
        <text x="250" y="205" text-anchor="middle" font-size="12">E</text>
        
        <circle cx="150" cy="250" r="15" fill="#1f77b4"/>
        <text x="150" y="255" text-anchor="middle" font-size="12">F</text>
        
        <!-- All connections -->
        <line x1="150" y1="150" x2="50" y2="100" stroke="#999" stroke-width="2"/>
        <line x1="150" y1="150" x2="250" y2="100" stroke="#999" stroke-width="2"/>
        <line x1="150" y1="150" x2="50" y2="200" stroke="#999" stroke-width="2"/>
        <line x1="150" y1="150" x2="250" y2="200" stroke="#999" stroke-width="2"/>
        <line x1="150" y1="150" x2="150" y2="250" stroke="#999" stroke-width="2"/>
        
        <!-- Distance labels -->
        <text x="90" y="115" font-size="10">d=0.4</text>
        <text x="210" y="115" font-size="10">d=0.3</text>
        <text x="90" y="185" font-size="10">d=0.5</text>
        <text x="210" y="185" font-size="10">d=0.2</text>
        <text x="160" y="200" font-size="10">d=0.6</text>
    </g>
    
    <!-- After Pruning (Right Side) -->
    <g transform="translate(450,80)">
        <text x="150" y="0" text-anchor="middle" font-size="16">After Pruning (M=4)</text>
        
        <!-- Central node -->
        <circle cx="150" cy="150" r="20" fill="#ff7f0e"/>
        <text x="150" y="155" text-anchor="middle" font-size="12">A</text>
        
        <!-- Kept nodes -->
        <circle cx="250" cy="100" r="15" fill="#1f77b4"/>
        <text x="250" y="105" text-anchor="middle" font-size="12">C</text>
        
        <circle cx="250" cy="200" r="15" fill="#1f77b4"/>
        <text x="250" y="205" text-anchor="middle" font-size="12">E</text>
        
        <circle cx="50" cy="100" r="15" fill="#1f77b4"/>
        <text x="50" y="105" text-anchor="middle" font-size="12">B</text>
        
        <circle cx="50" cy="200" r="15" fill="#1f77b4"/>
        <text x="50" y="205" text-anchor="middle" font-size="12">D</text>
        
        <!-- Removed node (faded) -->
        <circle cx="150" cy="250" r="15" fill="#1f77b4" opacity="0.2"/>
        <text x="150" y="255" text-anchor="middle" font-size="12" opacity="0.2">F</text>
        
        <!-- Kept connections -->
        <line x1="150" y1="150" x2="250" y2="100" stroke="#2ca02c" stroke-width="2"/>
        <line x1="150" y1="150" x2="250" y2="200" stroke="#2ca02c" stroke-width="2"/>
        <line x1="150" y1="150" x2="50" y2="100" stroke="#2ca02c" stroke-width="2"/>
        <line x1="150" y1="150" x2="50" y2="200" stroke="#2ca02c" stroke-width="2"/>
        
        <!-- Removed connection (faded) -->
        <line x1="150" y1="150" x2="150" y2="250" stroke="#999" stroke-width="2" opacity="0.2"/>
        
        <!-- Distance labels -->
        <text x="90" y="115" font-size="10">d=0.4</text>
        <text x="210" y="115" font-size="10">d=0.3</text>
        <text x="90" y="185" font-size="10">d=0.5</text>
        <text x="210" y="185" font-size="10">d=0.2</text>
        <text x="160" y="200" font-size="10" opacity="0.2">d=0.6</text>
    </g>
    
    <!-- Legend -->
    <g transform="translate(300,450)">
        <text x="0" y="0" font-size="14" font-weight="bold">Pruning Rules:</text>
        <text x="0" y="25" font-size="12">1. Maximum connections (M) = 4</text>
        <text x="0" y="45" font-size="12">2. Keep closest neighbors</text>
        <text x="0" y="65" font-size="12">3. Remove excess connections (F)</text>
        <text x="0" y="85" font-size="12">4. Maintain bidirectional links</text>
    </g>
</svg>